[[plugins]]
repo = "Shougo/dein.vim"
hook_add = """
let g:dein#auto_recache = !has('win32')
function! s:dein_toml_syntax() abort
  if expand('%:p') =~# '\vrc/[^/]+.toml$'
    call dein#toml#syntax()
  endif
endfunction
augroup dein_augroup_internal
  autocmd!
  autocmd FileType toml ++nested call timer_start(0, {id->s:dein_toml_syntax()})
augroup END
"""

[[plugins]]
repo = "sainnhe/sonokai"
hook_add = """
if !has('gui_running')
  augroup colorschemeSetting
    autocmd!
    autocmd VimEnter * nested colorscheme sonokai | highlight FloatBorder ctermbg=NONE guibg=NONE
  augroup END
endif
let g:sonokai_style = 'espresso'
let g:sonokai_enable_italic = v:false
let g:sonokai_disable_italic_comment = v:true
"""

[[plugins]]
repo = "itchyny/lightline.vim"
hook_add = """
set noshowmode
let g:lightline = {
\   'colorscheme': 'sonokai',
\   'active': {
\       'left': [
\           ['mode', 'paste'],
\           ['gitbranch', 'readonly', 'filename', 'modified'],
\       ],
\   },
\   'component_function': {
\       'gitbranch': 'gitbranch#name',
\       'filetype': 'LightlineFileType',
\       'fileformat': 'LightlineFotmat',
\   },
\ }

function! LightlineFileType() abort
  if winwidth(0) > 70
    if strlen(&filetype) > 0
      return &filetype . ' ' . WebDevIconsGetFileTypeSymbol()
    else
      return 'no ft'
    endif
  else
    return ''
  endif
endfunction

function! LightlineFotmat() abort
  if winwidth(0) > 70
    return &fileformat .  ' ' . WebDevIconsGetFileFormatSymbol()
  else
    return ''
  endif
endfunction

let g:colors_map = {}
function! ChangeColor(colorname) abort
  execute 'colorscheme' . ' ' . a:colorname
  let g:lightline.colorscheme = get(g:colors_map, a:colorname, a:colorname)
  call lightline#enable()
endfunction
"""
depends = ["vim-devicons", 'vim-gitbranch']

[[plugins]]
repo = "itchyny/vim-gitbranch"

[[plugins]]
repo = "vim-jp/vimdoc-ja"
hook_add = """
if has('nvim')
  set helplang=en " default
else
  set helplang=ja
endif
"""

[[plugins]]
repo = "kana/vim-repeat"

[[plugins]]
repo = "ryanoasis/vim-devicons"

[[plugins]]
repo = "lambdalisue/seethrough.vim"
hook_add = """
let g:seethrough_disabled = has('gui_running')
"""

[[plugins]]
repo = "mattn/vim-findroot"
hook_add = """
let g:findroot_not_for_subdir = v:false
"""

[[plugins]]
repo = "cocopon/vaffle.vim"
hook_add = """
cnoreabbrev va Vaffle
cnoreabbrev vap Vaffle %p
command! TVaffle tabnew | Vaffle
"""

[[plugins]]
repo = "lambdalisue/fern.vim"
hook_add = """
cnoreabbrev fe Fern .
cnoreabbrev fep Fren -reveal=%
"""
[plugins.ftplugin]
fern = """
" TODO: set maps
" i: create new file
" o: create new dir
" r: Rename
" y: yank
" q: quit
" Basic operation
nmap <buffer> q <C-o>
nmap <buffer> i <Plug>(fern-action-new-file)
nmap <buffer> o <Plug>(fern-action-new-dir)
nmap <buffer> r <Plug>(fern-action-rename)
nmap <buffer> y <Plug>(fern-action-copy)
"""


[[plugins]]
repo = "vim-jp/vim-streem"

[[plugins]]
repo = "vim-scripts/vim-fish"

[[plugins]]
repo = "mityu/vim-applescript"

[[plugins]]
repo = "gko/vim-coloresque"

[[plugins]]
repo = "posva/vim-vue"

