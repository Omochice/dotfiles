[[plugins]]
repo = "Shougo/dein.vim"
hook_add = """
let g:dein#auto_recache = v:true
function! s:dein_toml_syntax() abort
  if expand('%:p') =~# '\vrc/[^/]+.toml$'
    call dein#toml#syntax()
  endif
endfunction
augroup dein_augroup_internal
  autocmd!
  autocmd FileType toml ++nested call timer_start(0, {id->s:dein_toml_syntax()})
augroup END
"""

[[plugins]]
repo = "sainnhe/sonokai"
hook_add = """
if !has('gui_running')
  augroup colorschemeSetting
    autocmd!
    autocmd VimEnter * nested colorscheme sonokai | highlight link FloatBorder NormalFloat
  augroup END
endif
let g:sonokai_style = 'espresso'
let g:sonokai_enable_italic = v:false
let g:sonokai_disable_italic_comment = v:true
"""
if = "!has('gui_runnning')"

[[plugins]]
repo = "yasukotelin/shirotelin"
hook_add = """
if has('gui_running')
  augroup colorschemeSetting
    autocmd!
    autocmd VimEnter * nested colorscheme shirotelin
  augroup END
endif
"""
if = "has('gui_running')"

[[plugins]]
repo = "itchyny/lightline.vim"
hook_add = """
set noshowmode
let g:lightline = {
\   'colorscheme': has('gui_running') ? 'shirotelin' : 'sonokai',
\   'active': {
\       'left': [
\           ['mode', 'paste'],
\           ['gitbranch', 'readonly', 'filename', 'modified'],
\       ],
\   },
\   'component_function': {
\       'gitbranch': 'gitbranch#name',
\       'filetype': 'LightlineFileType',
\       'fileformat': 'LightlineFotmat',
\   },
\ }

function! LightlineFileType() abort
  if winwidth(0) > 70
    if strlen(&filetype) > 0
      return &filetype . ' ' . WebDevIconsGetFileTypeSymbol()
    else
      return 'no ft'
    endif
  else
    return ''
  endif
endfunction

function! LightlineFotmat() abort
  if winwidth(0) > 70
    return &fileformat .  ' ' . WebDevIconsGetFileFormatSymbol()
  else
    return ''
  endif
endfunction
"""
depends = ["vim-devicons", 'vim-gitbranch']

[[plugins]]
repo = "itchyny/vim-gitbranch"

[[plugins]]
repo = "vim-jp/vimdoc-ja"
hook_add = """
if has('nvim')
  set helplang=en " default
else
  set helplang=ja
endif
"""

[[plugins]]
repo = "kana/vim-repeat"

[[plugins]]
repo = "ryanoasis/vim-devicons"

[[plugins]]
repo = "lambdalisue/seethrough.vim"
hook_add = """
let g:seethrough_disabled = has('gui_running')
"""

[[plugins]]
repo = "mattn/vim-findroot"
hook_add = """
let g:findroot_not_for_subdir = v:false
"""

[[plugins]]
# FIXME
# If set this plugin as lazy,
# "Lazygit" is not found on second or later execution.
# on_cmd = ["Lazygit"]
repo = "voldikss/vim-floaterm"
hook_add = """
command! Lazygit FloatermNew --autoclose=2 --opener=tabe --height=1.0 --width=1.0 --title=lazygit lazygit
command! Fkill FloatermKill
nnoremap <C-g> <Cmd>Lazygit<CR>
tnoremap <expr> <ESC> &filetype ==# 'floaterm' ?
\ '<ESC>' :
\ has('nvim') ? '<C-\><C-n>' : '<C-W>N'
"""

[[plugins]]
repo = "cocopon/vaffle.vim"
hook_add = """
cnoreabbrev va Vaffle
command! TVaffle tabnew | Vaffle
"""

[[plugins]]
repo = "vim-jp/vim-streem"
