[[plugins]]
repo = "Shougo/dein.vim"
hook_add = """
let g:dein#auto_recache = v:true
"""

[[plugins]]
repo = "sainnhe/sonokai"
hook_add = """
augroup colorschemeSetting
    autocmd!
    autocmd VimEnter * nested colorscheme sonokai
augroup END
let g:sonokai_style = 'espresso'
let g:sonokai_enable_italic = v:false
let g:sonokai_disable_italic_comment = v:true
"""

[[plugins]]
repo = "itchyny/lightline.vim"
hook_add = """
set noshowmode
let g:lightline = {
\   'colorscheme': 'sonokai',
\   'active': {
\       'left': [
\           ['mode', 'paste'],
\           ['gitbranch', 'readonly', 'filename', 'modified'],
\       ],
\   },
\   'component_function': {
\       'gitbranch': 'LightlineBranch',
\       'filetype': 'LightlineFileType',
\       'fileformat': 'LightlineFotmat',
\   },
\ }

let s:lightline_branchname = ''

augroup lightline_branch
    autocmd!
    autocmd BufWinEnter,WinEnter * call <SID>getBranch()
augroup END

function! s:getBranch() abort
    let s:lightline_branchname = system('git rev-parse --abbrev-ref HEAD 2>/dev/null | head -c -1')
endfunction

function! LightlineFileType() abort
    if winwidth(0) > 70
        if strlen(&filetype)
            return &filetype . ' ' . WebDevIconsGetFileTypeSymbol()
        else
            return 'no ft'
        endif
    else
        return ''
    endif
endfunction

function! LightlineFotmat() abort
    if winwidth(0) > 70
        return &fileformat .  ' ' . WebDevIconsGetFileFormatSymbol()
    else
        return ''
    endif
endfunction

function! LightlineBranch() abort
    if s:lightline_branchname ==# ''
    	return ''
    else
        return s:lightline_branchname . ' ï‡“'
    endif
endfunction
"""
depends = ["vim-devicons"]

[[plugins]]
repo = "vim-jp/vimdoc-ja"
hook_add = """
" if has('nvim')
"     set helplang=en " default
" else
if !has('nvim')
    set helplang=ja
endif
"""

[[plugins]]
repo = "prabirshrestha/vim-lsp"
hook_add = """
let g:lsp_diagnostics_enabled = v:true
let g:lsp_diagnostics_virtual_text_enabled = v:false
let g:lsp_diagnostics_echo_cursor = v:true
let g:lsp_diagnostics_echo_delay = 100
nmap <silent> <C-h> <Plug>(lsp-hover)
nmap <silent> <Space>f <Plug>(lsp-document-format)
nmap <silent> <Space>d <Plug>(lsp-document-diagnostics)
nmap <silent> <Space>r <Plug>(lsp-rename)

let g:lsp_settings = {
\   'efm-langserver': {'disabled': v:false},
\   'html-langserver': {'allowlist': ['html', 'htmldjango']},
\ }
let g:lsp_text_edit_enabled = v:true
let g:lsp_diagnostics_signs_error = {'text': 'ðŸ˜¡'}
let g:lsp_diagnostics_signs_warning = {'text': 'ðŸ¤”'}
"""

[[plugins]]
repo = "mattn/vim-lsp-settings"
depends = "vim-lsp"

[[plugins]]
repo = "kana/vim-repeat"

[[plugins]]
repo = "junegunn/fzf"
build = "./install --all"
# merged = 0

[[plugins]]
repo = "yuki-yano/fzf-preview.vim"
rev = "release/rpc"
hook_add = """
nmap <C-p> [fzf-p]
nnoremap [fzf-p]<C-p> <Cmd>FzfPreviewDirectoryFiles<CR>
nnoremap [fzf-p]c     <Cmd>FzfPreviewCommandPaletteRpc<CR>
nnoremap [fzf-p]g     :<C-u>FzfPreviewProjectGrepRpc<Space>
let g:fzf_preview_fzf_preview_window_option = 'right:50%'
let g:fzf_preview_use_dev_icons = v:true
let g:fzf_preview_dev_icon_prefix_string_length = 3
let g:fzf_preview_dev_icons_limit = 5000
"""
depends = ["vim-devicons", "fzf"]

[[plugins]]
repo = "kana/vim-textobj-user"

[[plugins]]
repo = "kana/vim-textobj-line"
depends = ["vim-textobj-uesr"]

[[plugins]]
repo = "rhysd/vim-textobj-anyblock"
depends = ["vim-textobj-user"]

[[plugins]]
repo = "thinca/vim-textobj-between"
depends = ["vim-textobj-user"]

[[plugins]]
repo = "kana/vim-textobj-indent"
depends = ["vim-textobj-user"]

[[plugin]]
repo = "kana/vim-operator-user"

[[plugins]]
repo = "ryanoasis/vim-devicons"

[[plugins]]
repo = "lambdalisue/seethrough.vim"
hook_add = """
let g:seethrough_disabled = v:false
"""

[[plugins]]
repo = "mattn/vim-findroot"
hook_add = """
let g:findroot_not_for_subdir = v:false
"""

[[plugins]]
repo = "voldikss/vim-floaterm"
hook_add = """
command! Lazygit FloatermNew --autoclose=2 --height=1.0 --width=1.0 --title=lazygit lazygit
command! Fkill FloatermKill
nnoremap <silent><C-g> <Cmd>Lazygit<CR>
"""
